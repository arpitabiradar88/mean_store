<div ng-controller="customersController">

    <h1>Add a new customer</h1>

        <form name="newCustomer" novalidate>

            <p id="add-customer">
                Customer Name:<input type="text" ng-model="new_customer.name" required name="name" ng-minlength="2">

                <!--
                'ng-disabled="newCustomer.$invalid"' disables
                submit input tag until the conditions
                in the input tag above are met which includes
                the "required" attribute so that the field
                can't be blank and the 'ng-minlength="2"'
                attribute so that the field must have 2
                characters or more
                -->
                <input value="Submit" type="submit" ng-click="addCustomer()" ng-disabled="newCustomer.$invalid">
            </p>

        </form>

        <p id="search-name"><input type="text" ng-model="filter_name" placeholder="search name"></p>

        <p>
            <!-- Client side errors -->
            <span ng-bind="error" class="error"></span>
            <!-- Server side errors -->
            <span ng-bind="errors.errors.name.message" class="error"></span>
        </p>

        <table class="customers-orders-table">
            <thead>
                <tr>
                    <th>Customer Name</th>
                    <th>Created Date</th>
                    <th class="last-col">Actions</th>
                </tr>
            </thead>

            <tbody>
                <tr ng-repeat="customer in customers | filter: filter_name">
                    <td ng-bind="customer.name"></td>
                    <td ng-bind="customer.created_at.slice(0, 10) + ', ' + customer.created_at.slice(12, 22)"></td>
                    <td><a href="/destroy/{{ customer._id }}">&gt;&gt; Delete Customer</a></td>

                </tr>

            </tbody>

        </table>

</div>